正交投影(有时也称为斜投影)相比其他投影类型更为简单,这使其成为理解透视投影矩阵操作的绝佳主题。您可能会质疑正交投影在现代应用中的相关性,因为电影和游戏中普遍追求光写实效果,典型地通过透视投影来实现。然而,正交投影或平行投影有其独特的应用和优势。例如,《模拟人生》或《模拟城市》等电子游戏就利用了这种投影方法来实现一种独特的视觉风格,在某些情况下这种风格更受青睐,而非更为常见的透视投影。此外,正交投影在渲染阴影贴图或为实际目的生成3D模型的正交视图中都起到关键作用。例如,建筑师可能需要从CAD软件设计的房屋或建筑物的3D模型生成蓝图。

在本章中,我们将探讨如何构建一个矩阵,将一个点从相机空间投影到正交相机的图像平面上。

正交投影矩阵的目标是将位于特定3D空间边界框内的所有坐标重新映射到标准视景体 - 这是第2章中介绍的概念。将这个原始框视为包围场景中所有物体的边界框。通过遍历场景中的每个物体,计算它们的边界框,并调整全局边界框的尺寸以包含所有这些体积,从而确立了场景的边界框。然后,正交矩阵旨在将这个框重新映射到一个标准视景体,其定义的最小和最大范围为(-1, -1, -1)和(1, 1, 1)(或(-1, -1, 0)和(1, 1, 1),这取决于使用的约定)。本质上,投影点的x和y坐标被从其原始范围映射到[-1,1],z坐标则被调整到落在-1,1之间。值得注意的是,场景的边界框和标准视景体都是轴对齐的边界框(AABB),这大大简化了重映射过程。

![img](https://www.scratchapixel.com/images/perspective-matrix/ortho-proj3.png?)



一旦我们计算出了场景的边界框,我们就需要将该边界框的最小和最大范围投影到相机的图像平面上。在正交投影(或平行投影)的情况下,这个任务很简单。任何在相机空间中表示的点的x和y坐标,与投影到图像平面上的同一点的x和y坐标保持一致。可能需要调整边界框的最小和最大范围在屏幕上的投影,以确保屏幕窗口要么是正方形,要么保持与图像相同的纵横比(实现细节请参见下面的测试程序代码)。另外请记住,画布或屏幕是围绕屏幕坐标系的原点居中的(如图2所示)。

![img](https://www.scratchapixel.com/images/perspective-matrix/ortho-proj4.png?)

































